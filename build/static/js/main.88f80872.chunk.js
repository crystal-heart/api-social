(this["webpackJsonpmy-diary"]=this["webpackJsonpmy-diary"]||[]).push([[0],{1:function(e,t){e.exports={app_name:"\u6211\u304c\u65e5\u8a18",sologan:"\u4e00\u77ac\u4e00\u77ac\u306e\u8a18\u61b6",sub_sologan:"\u4eba\u751f\u306e\u30b9\u30c8\u30fc\u30ea\u30fc\u3092\u3059\u3079\u30661\u304b\u6240\u3067",reminders:"\u30ea\u30de\u30a4\u30f3\u30c0\u30fc",reminders_title:"\u6642\u9593\u3092\u9078\u629e\u3059\u308b\u3068\u3001\u6bce\u65e5\u306e\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u3092\u9001\u4fe1\u3057\u3066\u65e5\u8a18\u3092\u4f5c\u6210\u3057\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u3002",privacy:"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc",privacy_title:"\u3042\u306a\u305f\u306e\u7269\u8a9e\u306f\u3042\u306a\u305f\u3068\u3042\u306a\u305f\u3060\u3051\u306e\u3082\u306e\u3067\u3059\u3002\u30c7\u30fc\u30bf\u3092\u5171\u6709\u3059\u308b\u3053\u3068\u306f\u6c7a\u3057\u3066\u3042\u308a\u307e\u305b\u3093\u3002",favorites:"\u304a\u6c17\u306b\u5165\u308a",favorites_title:"\u304a\u6c17\u306b\u5165\u308a\u306e\u601d\u3044\u51fa\u3092\u7c21\u5358\u306b\u898b\u3064\u3051\u3066\u3001\u518d\u3073\u5e78\u305b\u306b",features:"\u7279\u5fb4",get_started:"\u59cb\u3081\u307e\u3057\u3087\u3046",login:"\u30ed\u30b0\u30a4\u30f3",logout:"\u30ed\u30b0\u30a2\u30a6\u30c8",register:"\u767b\u9332",confirm_logout:"\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304b\uff1f",built_with:"\u3067\u69cb\u7bc9",by:"\u6cbf\u3063\u3066",unlock_your_diary:"\u65e5\u8a18\u306e\u30ed\u30c3\u30af\u3092\u89e3\u9664",create_an_account:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b",email:"\u30e1\u30fc\u30eb",password:"\u30d1\u30b9\u30ef\u30fc\u30c9",confirm_password:"\u78ba\u8a8d\u30d1\u30b9\u30ef\u30fc\u30c9",wrong_pass_and_user:"\u30e6\u30fc\u30b6\u30fc\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059\u3002",my_stories:"\u79c1\u306e\u7269\u8a9e",new_story:"\u65b0\u3057\u3044\u8a71",profile:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb",read_story:"\u7269\u8a9e\u3092\u8aad\u3080",load_more:"\u3082\u3063\u3068\u8aad\u307f\u8fbc\u3080",save:"\u4fdd\u5b58",title:"\u30bf\u30a4\u30c8\u30eb",content:"\u30b3\u30f3\u30c6\u30f3\u30c4",create_false:"\u4f5c\u6210\u5931\u6557",delete:"\u524a\u9664",edit:"\u7de8\u96c6",confirm_delete:"\u524a\u9664\u3057\u305f\u3044\u306e\u3067\u3057\u3087\u3046\u304b\u3002",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",register_success:"\u767b\u9332\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002",register_fails:"\u767b\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"}},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),c=a.n(s),l=a(33),o=a(16),i=a(5),m=(a(62),a(1)),u=a.n(m),d=a(50),p=a.n(d),_=a(51),f=a.n(_),g=a(52),E=a.n(g),v=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,r.a.createElement("a",{className:"link",href:"https://vnext.vn"}," Vnext\u682a\u5f0f\u4f1a\u793e\u306b\u3088\u308a\u4f5c\u6210 \u2764 "))))},b=Object(o.g)((function(e){var t=localStorage.getItem("access_token");return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header__brand"},r.a.createElement(i.b,{className:"link",to:"/"},u.a.app_name)),!t&&r.a.createElement("nav",{className:"nav"},r.a.createElement("a",{href:"#",className:"nav__open-menu js-open-menu"}),r.a.createElement("ul",{className:"list nav__list js-nav-list"},r.a.createElement("li",{className:"list__item"},r.a.createElement("a",{href:"#",className:"nav__close-menu js-close-menu"})),r.a.createElement("li",{className:"list__item"},r.a.createElement(i.b,{to:"/login",className:"link nav__link"},u.a.login," ")),r.a.createElement("li",{className:"list__item"},r.a.createElement("a",{href:"#",className:"nav__close-menu js-close-menu"})))),t&&r.a.createElement("nav",{className:"nav"},r.a.createElement("a",{href:"#",className:"nav__open-menu js-open-menu"}),r.a.createElement("ul",{className:"list nav__list js-nav-list"},r.a.createElement("li",{className:"list__item"},r.a.createElement("a",{href:"#",className:"nav__close-menu js-close-menu"})),r.a.createElement("li",{className:"list__item"},r.a.createElement(i.b,{to:"/new-story",className:"link nav__link"},u.a.new_story)),r.a.createElement("li",{className:"list__item"},r.a.createElement(i.b,{to:"/stories",className:"link nav__link"},u.a.my_stories)),r.a.createElement("li",{className:"list__item"},r.a.createElement("a",{href:"#",className:"link nav__link",onClick:function(){localStorage.setItem("access_token",""),localStorage.setItem("user_id",""),e.history.push("/")}},u.a.logout))))))}));var h=function(){return r.a.createElement("div",{className:"page page--is-flex page--stretches"},r.a.createElement(b,null),r.a.createElement("section",{className:"hero hero--home"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"hero__title"},u.a.sologan),r.a.createElement("p",{className:"hero__text"},u.a.sub_sologan),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/register",className:"button button--success"},u.a.get_started)))),r.a.createElement("section",null,r.a.createElement("h1",{className:"feature-list__title"},u.a.features),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"feature-list"},r.a.createElement("div",{className:"feature-list__item"},r.a.createElement("img",{src:p.a,alt:"remind-icon",className:"item__image"}),r.a.createElement("h2",{className:"item__title"},"    ",u.a.reminders," "),r.a.createElement("p",{className:"item__desc"},u.a.reminders_title)),r.a.createElement("div",{className:"feature-list__item"},r.a.createElement("img",{src:f.a,alt:"hashtag-icon",className:"item__image"}),r.a.createElement("h2",{className:"item__title"},"   ",u.a.privacy," "),r.a.createElement("p",{className:"item__desc"},u.a.privacy_title)),r.a.createElement("div",{className:"feature-list__item"},r.a.createElement("img",{src:E.a,alt:"fav-icon",className:"item__image"}),r.a.createElement("h2",{className:"item__title"},"  ",u.a.favorites," "),r.a.createElement("p",{className:"item__desc"},u.a.favorites_title))))),r.a.createElement(v,null))},N=a(2),y=a.n(N),w=a(4),j=a(54),k=Object(j.create)({baseURL:"https://api.pwa.vnext.work/api/",headers:{Accept:"application/json"}}),x=a(26);var O=Object(o.g)((function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),o=Object(w.a)(l,2),m=o[0],d=o[1],p=Object(n.useState)(""),_=Object(w.a)(p,2),f=_[0],g=_[1],E=Object(n.useState)(!1),h=Object(w.a)(E,2),N=h[0],j=h[1],O=Object(x.b)(),S=function(){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,j(!0),a.next=4,y.a.awrap(k.post("auth/login",{email:s,password:m}));case 4:(t=a.sent).data.token?(localStorage.setItem("access_token",t.data.token),localStorage.setItem("user_id",t.data.id),e.history.push("/stories"),O({type:"login_success",showmenu:!0})):(j(!1),g(u.a.wrong_pass_and_user)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),j(!1),g("\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u304c\u7e4b\u304c\u308a\u307e\u305b\u3093\u3002");case 12:case"end":return a.stop()}}),null,null,[[0,8]])};return r.a.createElement("div",{className:"page page--is-flex page--stretches"},r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h2",{className:"form-group__heading"},u.a.unlock_your_diary),r.a.createElement("form",{className:"form-group__form js-form-login",action:"#"},r.a.createElement("input",{className:"form__input",type:"email",placeholder:u.a.email,required:!0,onChange:function(e){c(e.target.value),g("")}}),r.a.createElement("input",{className:"form__input",type:"password",placeholder:u.a.password,required:!0,onChange:function(e){d(e.target.value),g("")}}),r.a.createElement("p",{style:{color:"red"}},f),N?r.a.createElement("button",{onClick:S,type:"button",className:"form__btn--submit button--loading"}):r.a.createElement("button",{onClick:S,type:"button",className:"form__btn--submit js-login-button"},u.a.login),r.a.createElement(i.b,{className:"form__btn--alternate",to:"/register"}," ",u.a.register,"?")))),r.a.createElement(v,null))}));var S=Object(o.g)((function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),o=Object(w.a)(l,2),m=o[0],d=o[1],p=Object(n.useState)(""),_=Object(w.a)(p,2),f=(_[0],_[1]),g=Object(n.useState)(""),E=Object(w.a)(g,2);return E[0],E[1],r.a.createElement("div",{className:"page page--is-flex page--stretches"},r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h2",{className:"form-group__heading"},u.a.create_an_account),r.a.createElement("form",{className:"form-group__form js-form-login",action:"#"},r.a.createElement("input",{className:"form__input",type:"email",placeholder:u.a.email,required:!0,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{className:"form__input",type:"password",placeholder:u.a.password,required:!0,onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{className:"form__input",type:"password",placeholder:u.a.confirm_password,required:!0,onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{onClick:function(){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.awrap(k.post("auth/register",{email:s,password:m}));case 3:t.sent.data?(alert(u.a.register_success),e.history.push("/login")):alert(u.a.register_fails),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u304c\u7e4b\u304c\u308a\u307e\u305b\u3093\u3002");case 10:case"end":return t.stop()}}),null,null,[[0,7]])},type:"button",className:"form__btn--submit js-login-button"},u.a.register),r.a.createElement(i.b,{className:"form__btn--alternate",to:"/login"},u.a.login,"?")))),r.a.createElement(v,null))})),I=a(13),C=a.n(I),Y=function(e){var t=e.data;return r.a.createElement("figure",{className:"story-list__item"},r.a.createElement("div",{className:"item__holder"}),r.a.createElement("div",{className:"item__date"},r.a.createElement("span",{className:"date__span date__day"},r.a.createElement(C.a,{format:"YYYY/M/DD"},t.created_at))),r.a.createElement("figcaption",{className:"item__caption"},r.a.createElement("h3",{className:"caption__text caption__title"},t.title),r.a.createElement("p",{className:"caption__text"},t.content)),r.a.createElement("div",{className:"item__overlay"},u.a.read_story),r.a.createElement(i.b,{className:"link item__link",to:"/story/"+t.id}))},D=new(a(56).a)("laravel-api");D.version(1).stores({notes:"++id,title,content,created_at,updated_at"});var A=D;a(136);var q=function(){var e=Object(n.useState)([]),t=Object(w.a)(e,2),a=t[0],s=t[1],c=localStorage.getItem("user_id");function l(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(A.notes.bulkPut(e));case 2:case"end":return t.stop()}}))}return Object(n.useEffect)((function(){return function(){var e,t;y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,k.setHeader("Authorization","Bearer "+localStorage.getItem("access_token")),a.next=4,y.a.awrap(k.get("/stories"));case 4:if(!(e=a.sent).data.list){a.next=9;break}return s(e.data.list),l(e.data.list),a.abrupt("return");case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,y.a.awrap(A.notes.filter((function(e){return e.user_id==parseInt(c)})).toArray());case 15:t=a.sent,s(t);case 17:case"end":return a.stop()}}),null,null,[[0,11]])}(),function(){}}),[]),r.a.createElement("div",{className:"page page--is-flex page--stretches"},r.a.createElement(b,null),r.a.createElement("div",{className:"snowflakes","aria-hidden":"true"},r.a.createElement("div",{className:"snowflake"},"\u2745"),r.a.createElement("div",{className:"snowflake"},"\u2745"),r.a.createElement("div",{className:"snowflake"},"\u2746"),r.a.createElement("div",{className:"snowflake"},"\u2744"),r.a.createElement("div",{className:"snowflake"},"\u2745"),r.a.createElement("div",{className:"snowflake"},"\u2746"),r.a.createElement("div",{className:"snowflake"},"\u2744"),r.a.createElement("div",{className:"snowflake"},"\u2745"),r.a.createElement("div",{className:"snowflake"},"\u2746"),r.a.createElement("div",{className:"snowflake"},"\u2744")),r.a.createElement("h1",{className:"story-list__title"},u.a.my_stories),r.a.createElement("div",{className:"container story-list"},a.length?a.map((function(e){return r.a.createElement(Y,{key:e.id,data:e})})):"",a.length?"":r.a.createElement("figure",{className:"story-list__item"},r.a.createElement("div",{className:"item__holder"}),r.a.createElement("div",{className:"item__date"},r.a.createElement("span",{className:"date__span date__day"},r.a.createElement(C.a,{format:"YYYY/M/DD"},new Date))),r.a.createElement("figcaption",{className:"item__caption"},r.a.createElement("h3",{className:"caption__text caption__title"},"\u3042\u306a\u305f\u306f\u307e\u3060\u65e5\u8a18\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u305b\u3093\u3002")),r.a.createElement("div",{className:"item__overlay"},"\u3059\u3050\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\uff01"),r.a.createElement(i.b,{className:"link item__link",to:"/new-story"}))),r.a.createElement(v,null))},R=a(25),W=a(27),B={},L="create_success",M="create_fail",z="login_success",H="is_online",U="is_offline";function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case z:return Object(W.a)({},e,{showmenu:t.showmenu});case L:return Object(W.a)({},e,{status:"success",openNoti:t.open});case M:return Object(W.a)({},e,{status:"error",openNoti:!0});case H:localStorage.setItem("isOffline",!1);break;case U:localStorage.setItem("isOffline",!0);break;default:return e}}var T=function(e){Object(n.useEffect)((function(){var t=document.createElement("script");return t.src=e,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e])};var V=Object(o.g)((function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),o=Object(w.a)(l,2),i=o[0],m=o[1],d=Object(n.useState)(""),p=Object(w.a)(d,2),_=(p[0],p[1]),f=Object(n.useState)(""),g=Object(w.a)(f,2),E=(g[0],g[1]),h=localStorage.getItem("user_id"),N=new Date;return r.a.createElement("div",{className:"page page--is-flex page--stretches"},r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h2",{className:"form-group__heading"},r.a.createElement(C.a,{format:"YYYY/M/DD"},N)),r.a.createElement("form",{className:"form-group__form js-form-login",action:"#"},r.a.createElement("input",{className:"form__input",type:"text",placeholder:u.a.title,required:!0,onChange:function(e){return c(e.target.value)}}),r.a.createElement("textarea",{className:"form__input",rows:"12",cols:"10",placeholder:u.a.content,required:!0,onChange:function(e){return m(e.target.value)}}),r.a.createElement("button",{onClick:function(){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,s||i){a.next=3;break}return a.abrupt("return");case 3:return _(!0),a.next=6,y.a.awrap(k.post("story/create",{title:s,content:i}));case 6:if(t=a.sent,console.log(t),!t.data){a.next=12;break}e.history.push("/stories"),a.next=21;break;case 12:if("NETWORK_ERROR"!=t.problem){a.next=19;break}return a.next=15,y.a.awrap(A.notes.add({user_id:parseInt(h),title:s,content:i}));case 15:a.sent,e.history.push("/stories"),a.next=21;break;case 19:_(!1),E(u.a.create_false);case 21:a.next=25;break;case 23:a.prev=23,a.t0=a.catch(0);case 25:case"end":return a.stop()}}),null,null,[[0,23]])},type:"button",className:"form__btn--submit js-login-button"},u.a.save)))),r.a.createElement(v,null))}));var J=Object(o.g)((function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),o=Object(w.a)(l,2),i=o[0],m=o[1],d=Object(n.useState)(""),p=Object(w.a)(d,2),_=p[0],f=p[1],g=Object(n.useState)(""),E=Object(w.a)(g,2),h=(E[0],E[1]),N=Object(n.useState)(""),j=Object(w.a)(N,2),x=(j[0],j[1],e.match.params.id),O=localStorage.getItem("user_id");return Object(n.useEffect)((function(){return function(){var e,t;y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,k.setHeader("Authorization","Bearer "+localStorage.getItem("access_token")),a.next=4,y.a.awrap(k.get("story/show/"+x));case 4:(e=a.sent).data.note&&(f(e.data.note),c(e.data.note.title),m(e.data.note.content)),a.next=16;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,y.a.awrap(A.notes.get(parseInt(x)));case 12:t=a.sent,f(t),c(t.title),m(t.content);case 16:case"end":return a.stop()}}),null,null,[[0,8]])}(),function(){}}),[]),r.a.createElement("div",{className:"page page--is-flex page--stretches"},r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h2",{className:"form-group__heading"},r.a.createElement(C.a,{format:"YYYY/M/DD"},_.created_at)),r.a.createElement("form",{className:"form-group__form js-form-login",action:"#"},r.a.createElement("input",{defaultValue:s||"",className:"form__input",type:"text",placeholder:u.a.title,required:!0,onChange:function(e){return c(e.target.value)}}),r.a.createElement("textarea",{defaultValue:i||"",className:"form__input",rows:"12",cols:"10",placeholder:u.a.content,required:!0,onChange:function(e){return m(e.target.value)}}),r.a.createElement("button",{onClick:function(){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(s||i){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,h(!0),t.next=6,y.a.awrap(k.post("story/update",{id:_.id,title:s,content:i}));case 6:if(!t.sent.data){t.next=11;break}e.history.push("/stories"),t.next=15;break;case 11:return h(!1),t.next=14,y.a.awrap(A.notes.get(parseInt(x)));case 14:A.notes.update(_.id,{title:s,content:i,user_id:parseInt(O)}).then((function(t){t?e.history.push("/stories"):h(!1)}));case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(2);case 19:case"end":return t.stop()}}),null,null,[[2,17]])},type:"button",className:"form__btn--submit js-login-button"},u.a.save)))),r.a.createElement(v,null))}));var K=Object(o.g)((function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)("none"),o=Object(w.a)(l,2),i=o[0],m=o[1],d=e.match.params.id;return Object(n.useEffect)((function(){return function(){var e;y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,k.setHeader("Authorization","Bearer "+localStorage.getItem("access_token")),t.next=4,y.a.awrap(k.get("story/show/"+d));case 4:(e=t.sent).data.note&&c(e.data.note),t.next=15;break;case 8:return t.prev=8,t.t0=t.catch(0),t.t1=c,t.next=13,y.a.awrap(A.notes.get(parseInt(d)));case 13:t.t2=t.sent,(0,t.t1)(t.t2);case 15:case"end":return t.stop()}}),null,null,[[0,8]])}(),function(){}}),[]),r.a.createElement("div",{className:"page page--is-flex page--stretches"},r.a.createElement("div",{className:"modal js-modal",style:{display:i}},r.a.createElement("div",{className:"modal__body"},r.a.createElement("p",{className:"modal__text"},u.a.confirm_delete),r.a.createElement("button",{onClick:function(){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=!1,a.prev=1,k.setHeader("Authorization","Bearer "+localStorage.getItem("access_token")),a.next=5,y.a.awrap(k.get("story/delete/"+d));case 5:"ok"===a.sent.data.satus&&(t=!0),a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,y.a.awrap(A.notes.delete(parseInt(d)));case 13:e.history.push("/stories");case 14:t&&e.history.push("/stories");case 15:case"end":return a.stop()}}),null,null,[[1,9]])},style:{marginRight:"10px",width:"120px"},type:"button",className:"button button--success js-confirm-modal"},u.a.delete),r.a.createElement("button",{onClick:function(){m("none")},style:{width:"120px"},type:"button",className:"button modal__cancel-btn js-cancel-modal"},u.a.cancel))),r.a.createElement(b,null),r.a.createElement("div",{className:"story"},r.a.createElement("p",{className:"story__date"}," ",r.a.createElement(C.a,{format:"YYYY/M/DD"},s.created_at)),r.a.createElement("p",{className:"story__title js-story-title"},s.title),r.a.createElement("div",{className:"story__content js-story-content"},s.content),r.a.createElement("div",{className:"story__toolbar"},r.a.createElement("div",{className:"story__fav-icon"}),r.a.createElement("div",{className:"toolbar__buttons"},r.a.createElement("button",{onClick:function(){e.history.push("/story/"+d+"/edit")},type:"button",className:"button button--success toolbar__edit-btn js-edit-story"},u.a.edit),r.a.createElement("button",{onClick:function(){m("block")},type:"button",className:"button toolbar__delete-btn js-delete-story"},u.a.delete)))),r.a.createElement(v,null))}));var $=function(){var e=Object(R.b)(P,{});T("main.js"),window.addEventListener("offline",(function(){return localStorage.setItem("isOffline",!0)})),window.addEventListener("online",(function(){}));var t=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return localStorage.getItem("access_token")?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))},a=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return localStorage.getItem("access_token")?r.a.createElement(o.a,{to:"/stories"}):r.a.createElement(t,e)}}))};return r.a.createElement(x.a,{store:e},r.a.createElement(i.a,null,r.a.createElement(o.d,null,r.a.createElement(a,{path:"/",component:h,exact:!0}),r.a.createElement(a,{path:"/login",component:O}),r.a.createElement(a,{path:"/register",component:S}),r.a.createElement(t,{path:"/stories",component:q}),r.a.createElement(t,{path:"/new-story",component:V}),r.a.createElement(t,{path:"/story/:id/edit",component:J}),r.a.createElement(t,{path:"/story/:id",component:K}))))},F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement($,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");F?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):G(t,e)}))}}()},50:function(e,t,a){e.exports=a.p+"static/media/remind-icon.00cc5a32.svg"},51:function(e,t,a){e.exports=a.p+"static/media/lock-icon.5e364adb.svg"},52:function(e,t,a){e.exports=a.p+"static/media/heart-solid.15b07261.svg"},57:function(e,t,a){e.exports=a(137)},62:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.88f80872.chunk.js.map